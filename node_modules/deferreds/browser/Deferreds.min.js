/*! deferreds v1.0.0 | MIT license */
window.Deferreds=function(){var requirejs,require,define;return function(e){function r(e,r){var t,n,i,o,s,u,a,f,c,d,l=r&&r.split("/"),h=p.map,m=h&&h["*"]||{};if(e&&"."===e.charAt(0)&&r){for(l=l.slice(0,l.length-1),e=l.concat(e.split("/")),f=0;e.length>f;f+=1)if(d=e[f],"."===d)e.splice(f,1),f-=1;else if(".."===d){if(1===f&&(".."===e[2]||".."===e[0]))break;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((l||m)&&h){for(t=e.split("/"),f=t.length;f>0;f-=1){if(n=t.slice(0,f).join("/"),l)for(c=l.length;c>0;c-=1)if(i=h[l.slice(0,c).join("/")],i&&(i=i[n])){o=i,s=f;break}if(o)break;!u&&m&&m[n]&&(u=m[n],a=f)}!o&&u&&(o=u,s=a),o&&(t.splice(0,s,o),e=t.join("/"))}return e}function t(r,t){return function(){return f.apply(e,g.call(arguments,0).concat([r,t]))}}function n(e){return function(t){return r(t,e)}}function i(e){return function(r){l[e]=r}}function o(r){if(h.hasOwnProperty(r)){var t=h[r];delete h[r],m[r]=!0,a.apply(e,t)}if(!l.hasOwnProperty(r)&&!m.hasOwnProperty(r))throw Error("No "+r);return l[r]}function s(e){var r,t=e?e.indexOf("!"):-1;return t>-1&&(r=e.substring(0,t),e=e.substring(t+1,e.length)),[r,e]}function u(e){return function(){return p&&p.config&&p.config[e]||{}}}var a,f,c,d,l={},h={},p={},m={},g=[].slice;c=function(e,t){var i,u=s(e),a=u[0];return e=u[1],a&&(a=r(a,t),i=o(a)),a?e=i&&i.normalize?i.normalize(e,n(t)):r(e,t):(e=r(e,t),u=s(e),a=u[0],e=u[1],a&&(i=o(a))),{f:a?a+"!"+e:e,n:e,pr:a,p:i}},d={require:function(e){return t(e)},exports:function(e){var r=l[e];return r!==void 0?r:l[e]={}},module:function(e){return{id:e,uri:"",exports:l[e],config:u(e)}}},a=function(r,n,s,u){var a,f,p,g,y,v,_=[];if(u=u||r,"function"==typeof s){for(n=!n.length&&s.length?["require","exports","module"]:n,y=0;n.length>y;y+=1)if(g=c(n[y],u),f=g.f,"require"===f)_[y]=d.require(r);else if("exports"===f)_[y]=d.exports(r),v=!0;else if("module"===f)a=_[y]=d.module(r);else if(l.hasOwnProperty(f)||h.hasOwnProperty(f)||m.hasOwnProperty(f))_[y]=o(f);else{if(!g.p)throw Error(r+" missing "+f);g.p.load(g.n,t(u,!0),i(f),{}),_[y]=l[f]}p=s.apply(l[r],_),r&&(a&&a.exports!==e&&a.exports!==l[r]?l[r]=a.exports:p===e&&v||(l[r]=p))}else r&&(l[r]=s)},requirejs=require=f=function(r,t,n,i,s){return"string"==typeof r?d[r]?d[r](t):o(c(r,t).f):(r.splice||(p=r,t.splice?(r=t,t=n,n=null):r=e),t=t||function(){},"function"==typeof n&&(n=i,i=s),i?a(e,r,t,n):setTimeout(function(){a(e,r,t,n)},15),f)},f.config=function(e){return p=e,f},define=function(e,r,t){r.splice||(t=r,r=[]),h[e]=[e,r,t]},define.amd={jQuery:!0}}(),define("node_modules/grunt-amd-dist/tasks/lib/almond",function(){}),define("mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===r?"Undefined":t.exec(n.call(e))[1]}var r,t=/^\[object (.*)\]$/,n=Object.prototype.toString;return e}),define("mout/lang/toArray",["./kindOf"],function(e){function r(r){var n,i=[],o=e(r);if(null!=r)if(null==r.length||"String"===o||"Function"===o||"RegExp"===o||r===t)i[i.length]=r;else for(n=r.length;n--;)i[n]=r[n];return i}var t=this;return r}),define("mout/function/partial",[],function(){function e(e,r){return Array.prototype.slice.call(e,r||0)}function r(r){var t=e(arguments,1);return function(){return r.apply(this,t.concat(e(arguments)))}}return r}),define("mout/lang/isKind",["./kindOf"],function(e){function r(r,t){return e(r)===t}return r}),define("mout/lang/isFunction",["./isKind"],function(e){function r(r){return e(r,"Function")}return r}),function(global,undefined){function canUseNextTick(){return"object"==typeof process&&"[object process]"===Object.prototype.toString.call(process)}function canUseMessageChannel(){return!!global.MessageChannel}function canUsePostMessage(){if(!global.postMessage||global.importScripts)return!1;var e=!0,r=global.onmessage;return global.onmessage=function(){e=!1},global.postMessage("","*"),global.onmessage=r,e}function canUseReadyStateChange(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")}function installNextTickImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);return process.nextTick(function(){tasks.runIfPresent(e)}),e}}function installMessageChannelImplementation(e){var r=new global.MessageChannel;r.port1.onmessage=function(e){var r=e.data;tasks.runIfPresent(r)},e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);return r.port2.postMessage(e),e}}function installPostMessageImplementation(e){function r(e,r){return"string"==typeof e&&e.substring(0,r.length)===r}function t(e){if(e.source===global&&r(e.data,n)){var t=e.data.substring(n.length);tasks.runIfPresent(t)}}var n="com.bn.NobleJS.setImmediate"+Math.random();global.addEventListener?global.addEventListener("message",t,!1):global.attachEvent("onmessage",t),e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);return global.postMessage(n+e,"*"),e}}function installReadyStateChangeImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments),r=global.document.createElement("script");return r.onreadystatechange=function(){tasks.runIfPresent(e),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},global.document.documentElement.appendChild(r),e}}function installSetTimeoutImplementation(e){e.setImmediate=function(){var e=tasks.addFromSetImmediateArguments(arguments);return global.setTimeout(function(){tasks.runIfPresent(e)},0),e}}var tasks=function(){function Task(e,r){this.handler=e,this.args=r}Task.prototype.run=function(){if("function"==typeof this.handler)this.handler.apply(undefined,this.args);else{var scriptSource=""+this.handler;eval(scriptSource)}};var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1;return{addFromSetImmediateArguments:function(e){var r=e[0],t=Array.prototype.slice.call(e,1),n=new Task(r,t),i=nextHandle++;return tasksByHandle[i]=n,i},runIfPresent:function(e){if(currentlyRunningATask)global.setTimeout(function(){tasks.runIfPresent(e)},0);else{var r=tasksByHandle[e];if(r){currentlyRunningATask=!0;try{r.run()}finally{delete tasksByHandle[e],currentlyRunningATask=!1}}}},remove:function(e){delete tasksByHandle[e]}}}();if(!global.setImmediate){var attachTo="function"==typeof Object.getPrototypeOf&&"setTimeout"in Object.getPrototypeOf(global)?Object.getPrototypeOf(global):global;canUseNextTick()?installNextTickImplementation(attachTo):canUsePostMessage()?installPostMessageImplementation(attachTo):canUseMessageChannel()?installMessageChannelImplementation(attachTo):canUseReadyStateChange()?installReadyStateChangeImplementation(attachTo):installSetTimeoutImplementation(attachTo),attachTo.clearImmediate=tasks.remove}}("object"==typeof global&&global?global:this),define("setimmediate",function(){}),define("deferreds/isPromise",[],function(){var e=function(e){return e&&"function"==typeof e.then};return e}),define("deferreds/Promise",[],function(){var e=function(e){this._deferred=e};return e.prototype.state=function(){return this._deferred._state},e.prototype.then=function(){return this._deferred.then.apply(this._deferred,arguments)},e.prototype.done=function(){return this._deferred.done.apply(this._deferred,arguments),this},e.prototype.fail=function(){return this._deferred.fail.apply(this._deferred,arguments),this},e.prototype.always=function(){return this._deferred.always.apply(this._deferred,arguments),this},e}),define("deferreds/Deferred",["require","mout/lang/toArray","mout/lang/isFunction","setimmediate","./isPromise","./Promise"],function(e){var r=e("mout/lang/toArray"),t=e("mout/lang/isFunction");e("setimmediate");var n=e("./isPromise"),i=e("./Promise"),o=function(){if(!(this instanceof o))throw Error('Deferred constructor function must be called with the "new" keyword');this._state=o.State.PENDING,this._callbacks={fulfilled:[],rejected:[]},this._closingArguments=[],this._promise=new i(this)};return o.prototype.promise=function(){return this._promise},o.prototype.state=function(){return this._state},o.prototype._drainCallbacks=function(){this._isDrainPending||(this._isDrainPending=!0,setImmediate(function(){this._isDrainPending=!1;var e;switch(this._state){case o.State.FULFILLED:e=this._callbacks.fulfilled,this._callbacks.rejected=[];break;case o.State.REJECTED:e=this._callbacks.rejected,this._callbacks.fulfilled=[];break;default:return}try{for(;e.length;)e.shift().apply(void 0,this._closingArguments)}catch(r){this.reject(r)}}.bind(this)))},o.prototype._setState=function(e,r){return this._state!==o.State.PENDING?this:(this._state=e,this._closingArguments=r,this._drainCallbacks(),this)},o.prototype.resolve=function(){return this._setState(o.State.FULFILLED,arguments)},o.prototype.reject=function(){return this._setState(o.State.REJECTED,arguments)},o.prototype.then=function(e,n){var i=new o;return this.done(function(){if(this._state!==o.State.FULFILLED||t(e)){var n=[e].concat(r(arguments));o.fromAny.apply(void 0,n).done(i.resolve.bind(i)).fail(i.reject.bind(i))}else i.resolve.apply(i,this._closingArguments)}.bind(this)),this.fail(function(){if(this._state!==o.State.REJECTED||t(n)){var e=[n].concat(r(arguments));o.fromAny.apply(void 0,e).done(i.resolve.bind(i)).fail(i.reject.bind(i))}else i.reject.apply(i,this._closingArguments)}.bind(this)),i.promise()},o.prototype._addCallbacks=function(e,r){return e&&this._callbacks.fulfilled.push(e),r&&this._callbacks.rejected.push(r),this._state!==o.State.PENDING&&this._drainCallbacks(),this},o.prototype.done=function(e){return this._addCallbacks(e)},o.prototype.fail=function(e){return this._addCallbacks(void 0,e)},o.prototype.always=function(e){return this._addCallbacks(e,e)},o.State={PENDING:"pending",FULFILLED:"fulfilled",REJECTED:"rejected"},o.fromAny=function(e){if(n(e)){if(e instanceof o||e instanceof i)return e;var r=new o;return e.then(r.resolve.bind(r),r.reject.bind(r)),r.promise()}if(t(e)){var s,u=Array.prototype.slice.call(arguments,1);try{s=e.apply(e,u)}catch(a){return(new o).reject(a).promise()}return o.fromAny(s)}return(new o).resolve(e).promise()},o}),define("deferreds/forEach",["require","./Deferred"],function(e){var r=e("./Deferred"),t=function(e,t){var n=new r;if(!e.length)return n.resolve(),n.promise();var i=0;return e.forEach(function(o,s){r.fromAny(t(o,s,e)).then(function(){i++,i===e.length&&n.resolve()},function(){n.reject.apply(n,arguments)})}),n.promise()};return t}),define("deferreds/every",["require","./Deferred","./forEach"],function(e){var r=e("./Deferred"),t=e("./forEach"),n=function(e,n){return t(e,function(e,t,i){return r.fromAny(n(e,t,i)).then(function(e){if(!e)throw"break"})}).then(function(){return!0},function(e){if("break"===e)return!1;throw e})};return n}),define("deferreds/filter",["require","./Deferred","./forEach"],function(e){var r=e("./Deferred"),t=e("./forEach"),n=function(e,n){var i=[];return t(e,function(t,o){return r.fromAny(n(t,o,e)).then(function(e){e===!0&&i.splice(o,0,t)})}).then(function(){return i})};return n}),define("deferreds/forEachSeries",["require","./Deferred"],function(e){var r=e("./Deferred"),t=function(e,t){var n=new r;if(!e.length)return n.resolve(),n.promise();var i=0,o=function(){r.fromAny(t(e[i],i,e)).then(function(){i+=1,i===e.length?n.resolve():o()},function(){n.reject.apply(n,arguments)})};return o(),n.promise()};return t}),define("deferreds/filterSeries",["require","./Deferred","./forEachSeries"],function(e){var r=e("./Deferred"),t=e("./forEachSeries"),n=function(e,n){var i=[];return t(e,function(t,o){return r.fromAny(n(t,o,e)).then(function(e){e===!0&&i.splice(o,0,t)})}).then(function(){return i})};return n}),define("deferreds/find",["require","./Deferred","./forEach"],function(e){var r=e("./Deferred"),t=e("./forEach"),n=function(e,n){var i;return t(e,function(t,o){return r.fromAny(n(t,o,e)).then(function(e){if(e)throw i=t,"break"})}).then(function(){return i},function(e){if("break"===e)return i;throw e})};return n}),define("deferreds/findSeries",["require","./Deferred","./forEachSeries"],function(e){var r=e("./Deferred"),t=e("./forEachSeries"),n=function(e,n){var i;return t(e,function(t,o){return r.fromAny(n(t,o,e)).then(function(e){if(e)throw i=t,"break"})}).then(function(){return i},function(e){if("break"===e)return i;throw e})};return n}),define("deferreds/isDeferred",[],function(){var e=function(e){return e&&e.promise};return e}),define("deferreds/map",["require","./Deferred","./forEach"],function(e){var r=e("./Deferred"),t=e("./forEach"),n=function(e,n){var i=[];return t(e,function(t,o){return r.fromAny(n(t,o,e)).then(function(e){i[o]=e})}).then(function(){return i})};return n}),define("deferreds/mapSeries",["require","./Deferred","./forEachSeries"],function(e){var r=e("./Deferred"),t=e("./forEachSeries"),n=function(e,n){var i=new r,o=[];return t(e,function(t,i){return r.fromAny(n(t,i,e)).then(function(e){o[i]=e})}).then(function(){i.resolve(o)},function(){i.reject.apply(i,arguments)}),i.promise()};return n}),define("deferreds/parallel",["require","./Deferred","./map"],function(e){var r=e("./Deferred"),t=e("./map"),n=function(e){return t(e,function(e){return r.fromAny(e)})};return n}),define("deferreds/pipe",["require","mout/function/partial","./Deferred","mout/lang/toArray"],function(e){var r=e("mout/function/partial"),t=e("./Deferred"),n=e("mout/lang/toArray"),i=function(e){var i=new t,o=0,s=function(){var u=n(arguments),a=e[o];u.unshift(a),t.fromAny(r.apply(a,u)).then(function(){o++,o===e.length?i.resolve.apply(i,arguments):s.apply(i,arguments)},function(){i.reject.apply(i,arguments)})};return s(),i.promise()};return i}),define("deferreds/reduce",["require","./Deferred","./forEachSeries"],function(e){var r=e("./Deferred"),t=e("./forEachSeries"),n=function(e,n,i){return t(e,function(t,o){return r.fromAny(n(i,t,o,e)).then(function(e){i=e})}).then(function(){return i})};return n}),define("deferreds/reduceRight",["require","./reduce"],function(e){var r=e("./reduce"),t=function(e,t,n){return r(e.slice().reverse(),t,n)};return t}),define("deferreds/series",["require","./Deferred","./mapSeries"],function(e){var r=e("./Deferred"),t=e("./mapSeries"),n=function(e){return t(e,function(e){return r.fromAny(e)})};return n}),define("deferreds/some",["require","./Deferred","./forEach"],function(e){var r=e("./Deferred"),t=e("./forEach"),n=function(e,n){return t(e,function(t,i){return r.fromAny(n(t,i,e)).then(function(e){if(e)throw"break"})}).then(function(){return!1},function(e){if("break"===e)return!0;throw e})};return n}),define("mout/lang/isObject",["./isKind"],function(e){function r(r){return e(r,"Object")}return r}),define("mout/object/hasOwn",[],function(){function e(e,r){return Object.prototype.hasOwnProperty.call(e,r)}return e}),define("mout/object/forIn",[],function(){function e(){i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=!0;for(var e in{toString:null})n=!1}function r(r,o,s){var u,a=0;null==n&&e();for(u in r)if(t(o,r,u,s)===!1)break;if(n)for(;(u=i[a++])&&(r[u]===Object.prototype[u]||t(o,r,u,s)!==!1););}function t(e,r,t,n){return e.call(n,r[t],t,r)}var n,i;return r}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,r){function t(t,n,i){r(t,function(r,o){return e(t,o)?n.call(i,t[o],o,t):void 0})}return t}),define("mout/object/values",["./forOwn"],function(e){function r(r){var t=[];return e(r,function(e){t.push(e)}),t}return r}),define("mout/array/forEach",[],function(){function e(e,r,t){if(null!=e)for(var n=-1,i=e.length;i>++n&&r.call(t,e[n],n,e)!==!1;);}return e}),define("mout/function/prop",[],function(){function e(e){return function(r){return r[e]}}return e}),define("mout/lang/isArray",["./isKind"],function(e){var r=Array.isArray||function(r){return e(r,"Array")};return r}),define("mout/object/deepMatches",["./forOwn","../lang/isArray"],function(e,r){function t(e,r){for(var t=-1,n=e.length;n>++t;)if(o(e[t],r))return!0;return!1}function n(e,r){for(var n=-1,i=r.length;i>++n;)if(!t(e,r[n]))return!1;return!0}function i(r,t){var n=!0;return e(t,function(e,t){return o(r[t],e)?void 0:n=!1}),n}function o(e,t){return e&&"object"==typeof e?r(e)&&r(t)?n(e,t):i(e,t):e===t}return o}),define("mout/function/makeIterator_",["./prop","../object/deepMatches"],function(e,r){function t(t,n){switch(typeof t){case"object":return null!=t?function(e){return r(e,t)}:t;case"string":case"number":return e(t);case"function":return n===void 0?t:function(e,r,i){return t.call(n,e,r,i)};default:return t}}return t}),define("mout/array/map",["./forEach","../function/makeIterator_"],function(e,r){function t(e,t,n){t=r(t,n);var i=[];if(null==e)return i;for(var o=-1,s=e.length;s>++o;)i[o]=t(e[o],o,e);return i}return t}),define("mout/collection/map",["../lang/isObject","../object/values","../array/map","../function/makeIterator_"],function(e,r,t,n){function i(i,o,s){return o=n(o,s),e(i)&&null==i.length&&(i=r(i)),t(i,function(e,r,t){return o(e,r,t)})}return i}),define("mout/collection/pluck",["./map"],function(e){function r(r,t){return e(r,function(e){return e[t]})}return r}),define("deferreds/sortBy",["require","mout/collection/pluck","./Deferred","./map"],function(e){var r=e("mout/collection/pluck"),t=e("./Deferred"),n=e("./map"),i=function(e,i){return n(e,function(r,n){return t.fromAny(i(r,n,e)).then(function(e){return{index:n,value:r,criteria:e}})}).then(function(e){return e=e.sort(function(e,r){var t=e.criteria,n=r.criteria;if(t!==n){if(t>n||void 0===t)return 1;if(n>t||void 0===n)return-1}return e.index<r.index?-1:1}),r(e,"value")})};return i}),define("deferreds/whilst",["require","./Deferred"],function(e){var r=e("./Deferred"),t=function(e,t){var n=new r,i=function(e,t){r.fromAny(e()).then(function(r){r?o(e,t):n.resolve()},function(){n.reject.apply(n,arguments)})},o=function(e,t){r.fromAny(t()).then(function(){i(e,t)},function(){n.reject.apply(n,arguments)})};return i(e,t),n.promise()};return t}),define("deferreds/Deferreds",["require","./every","./filter","./filterSeries","./find","./findSeries","./forEach","./forEachSeries","./isDeferred","./isPromise","./map","./mapSeries","./parallel","./pipe","./reduce","./reduceRight","./series","./some","./sortBy","./whilst"],function(e){var r={every:e("./every"),filter:e("./filter"),filterSeries:e("./filterSeries"),find:e("./find"),findSeries:e("./findSeries"),forEach:e("./forEach"),forEachSeries:e("./forEachSeries"),isDeferred:e("./isDeferred"),isPromise:e("./isPromise"),map:e("./map"),mapSeries:e("./mapSeries"),parallel:e("./parallel"),pipe:e("./pipe"),reduce:e("./reduce"),reduceRight:e("./reduceRight"),series:e("./series"),some:e("./some"),sortBy:e("./sortBy"),whilst:e("./whilst")};return r}),define("deferreds/Chainable",["require","mout/lang/toArray","mout/function/partial","./Deferred","./Promise","./Deferreds"],function(e){var r=e("mout/lang/toArray"),t=e("mout/function/partial"),n=e("./Deferred"),i=e("./Promise"),o=e("./Deferreds"),s=function(e){if(!(this instanceof s))throw Error('Chainable constructor function must be called with the "new" keyword');return this._state=n.State.PENDING,this._callbacks={fulfilled:[],rejected:[]},this._closingArguments=[],this._promise=new i(this),1===arguments.length&&void 0===e?this:(n.fromAny(e).then(this.resolve.bind(this)),void 0)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,["every","filter","filterSeries","find","findSeries","forEach","forEachSeries","map","mapSeries","pipe","reduce","reduceRight","some","sortBy"].forEach(function(e){s.prototype[e]=function(){var t=r(arguments);return this.then(function(r){return void 0!==r&&t.unshift(r),o[e].apply(void 0,t)})}}),["parallel","series"].forEach(function(e){s.prototype[e]=function(r){return this.then(function(n){return r=r.map(function(e){return t(e,n)}),o[e].call(void 0,r)})}}),s.prototype.then=function(){var e=new s(void 0);return n.prototype.then.apply(this,arguments).then(e.resolve.bind(e),e.reject.bind(e)),e},s}),function(e){function r(e,r,t,n,i){this._listener=r,this._isOnce=t,this.context=n,this._signal=e,this._priority=i||0}function t(e,r){if("function"!=typeof e)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",r))}function n(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){n.prototype.dispatch.apply(e,arguments)}}r.prototype={active:!0,params:null,execute:function(e){var r,t;return this.active&&this._listener&&(t=this.params?this.params.concat(e):e,r=this._listener.apply(this.context,t),this._isOnce&&this.detach()),r},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},n.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,i){var o,s=this._indexOfListener(e,n);if(-1!==s){if(o=this._bindings[s],o.isOnce()!==t)throw Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else o=new r(this,e,t,n,i),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var r=this._bindings.length;do--r;while(this._bindings[r]&&e._priority<=this._bindings[r]._priority);this._bindings.splice(r+1,0,e)},_indexOfListener:function(e,r){for(var t,n=this._bindings.length;n--;)if(t=this._bindings[n],t._listener===e&&t.context===r)return n;return-1},has:function(e,r){return-1!==this._indexOfListener(e,r)},add:function(e,r,n){return t(e,"add"),this._registerListener(e,!1,r,n)},addOnce:function(e,r,n){return t(e,"addOnce"),this._registerListener(e,!0,r,n)},remove:function(e,r){t(e,"remove");var n=this._indexOfListener(e,r);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,r=Array.prototype.slice.call(arguments),t=this._bindings.length;if(this.memorize&&(this._prevParams=r),t){e=this._bindings.slice(),this._shouldPropagate=!0;do t--;while(e[t]&&this._shouldPropagate&&e[t].execute(r)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var i=n;i.Signal=n,"function"==typeof define&&define.amd?define("signals",[],function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e.signals=i}(this),define("deferreds/Queue",["require","signals","setimmediate","./Deferred"],function(e){var r=e("signals");e("setimmediate");var t=e("./Deferred"),n=function(e,t){this._worker=e,this._concurrency=t,this._runningWorkers=0,this._events={saturated:new r,emptied:new r,drained:new r}};return n.prototype=Object.create(Array.prototype),n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this._worker,this._concurrency);return e._events=this._events,e},n.prototype.start=function(){this._running=!0,this.process()},n.prototype.stop=function(){return this._running=!1,this._stoppedDeferred=new t,0===this._runningWorkers&&this._stoppedDeferred.resolve(),this._stoppedDeferred.promise()},n.prototype.on=function(e,r){this._events[e].add(r)},n.prototype.off=function(e,r){this._events[e].remove(r)},n.prototype.process=function(){setImmediate(function(){if(this._running&&this.length&&!(this._runningWorkers>=this._concurrency)){var e=Array.prototype.shift.call(this);this.length||this._events.emptied.dispatch(),this._runningWorkers++,t.fromAny(this._worker(e)).then(function(){this._runningWorkers--,0===this.length&&0===this._runningWorkers&&this._events.drained.dispatch(),this._stoppedDeferred&&0===this._runningWorkers&&this._stoppedDeferred.resolve(),this.process()}.bind(this))}}.bind(this))},["pop","push","reverse","shift","sort","splice","unshift"].forEach(function(e){n.prototype[e]=function(){var r=Array.prototype[e].apply(this,arguments);return this.length===this._concurrency&&this._events.saturated.dispatch(),this.process(),r}}),["concat","slice","filter","map"].forEach(function(e){n.prototype[e]=function(){var r=Array.prototype[e].apply(this,arguments),t=this.clone();return t.push.apply(t,r),t}}),n}),{"mout/lang/kindOf":require("mout/lang/kindOf"),"mout/lang/toArray":require("mout/lang/toArray"),"mout/function/partial":require("mout/function/partial"),"mout/lang/isKind":require("mout/lang/isKind"),"mout/lang/isFunction":require("mout/lang/isFunction"),setimmediate:require("setimmediate"),"deferreds/isPromise":require("deferreds/isPromise"),"deferreds/Promise":require("deferreds/Promise"),"deferreds/Deferred":require("deferreds/Deferred"),"deferreds/forEach":require("deferreds/forEach"),"deferreds/every":require("deferreds/every"),"deferreds/filter":require("deferreds/filter"),"deferreds/forEachSeries":require("deferreds/forEachSeries"),"deferreds/filterSeries":require("deferreds/filterSeries"),"deferreds/find":require("deferreds/find"),"deferreds/findSeries":require("deferreds/findSeries"),"deferreds/isDeferred":require("deferreds/isDeferred"),"deferreds/map":require("deferreds/map"),"deferreds/mapSeries":require("deferreds/mapSeries"),"deferreds/parallel":require("deferreds/parallel"),"deferreds/pipe":require("deferreds/pipe"),"deferreds/reduce":require("deferreds/reduce"),"deferreds/reduceRight":require("deferreds/reduceRight"),"deferreds/series":require("deferreds/series"),"deferreds/some":require("deferreds/some"),"mout/lang/isObject":require("mout/lang/isObject"),"mout/object/hasOwn":require("mout/object/hasOwn"),"mout/object/forIn":require("mout/object/forIn"),"mout/object/forOwn":require("mout/object/forOwn"),"mout/object/values":require("mout/object/values"),"mout/array/forEach":require("mout/array/forEach"),"mout/function/prop":require("mout/function/prop"),"mout/lang/isArray":require("mout/lang/isArray"),"mout/object/deepMatches":require("mout/object/deepMatches"),"mout/function/makeIterator_":require("mout/function/makeIterator_"),"mout/array/map":require("mout/array/map"),"mout/collection/map":require("mout/collection/map"),"mout/collection/pluck":require("mout/collection/pluck"),"deferreds/sortBy":require("deferreds/sortBy"),"deferreds/whilst":require("deferreds/whilst"),"deferreds/Deferreds":require("deferreds/Deferreds"),"deferreds/Chainable":require("deferreds/Chainable"),signals:require("signals"),"deferreds/Queue":require("deferreds/Queue")}}();